@model IEnumerable<Finanzas_TF.Models.ReciboHonorarios>

@{
    ViewData["Title"] = "Cotizador 🧮 de Recibos";
}


<h1 style=" font-size: 2.0rem; margin: 30px 0px; font-weight: 700;">@ViewData["Title"]</h1>

<p style="margin-top: -25px; margin-bottom: 40px; font-weight: 600; color: green; font-style: italic;">Fecha de hoy @DateTime.Now.ToString("dd/MM/yyyy")</p>

<form asp-action="Calculo" method="post">
<div class="row">
    <div class="col-lg-3">
        Tipo de Tasa:
        <select class="form-control" name="Tasa">
            <option selected>--------</option>
            <option value=1>Nominal</option>
            <option value=0>Efectiva</option>
        </select>
        Valor de Tasa:
        <div class="input-group mb-3">
            <input type="number" step="0.01" name="TEA" class="form-control" aria-label="">
            <div class="input-group-append">
                <span class="input-group-text">%</span>
            </div>
        </div>

    </div>
    <div class="col-lg-3">
        Costes Iniciales:
        <div class="input-group mb-3">
            <div class="input-group-append">
                <span class="input-group-text">S/</span>
            </div>
            <input type="number" step="0.01" name="gInicio" class="form-control" aria-label="">

        </div>
        Costes Finales:
        <div class="input-group mb-3">
            <div class="input-group-append">
                <span class="input-group-text">S/</span>
            </div>
            <input  type="number" step="0.01" name="gFinal"  class="form-control" aria-label="">
        </div>
    </div>
    <div class="col-lg-3">
        Cotización Dolar:
        <div class="input-group mb-3">
            <div class="input-group-append">
                <span class="input-group-text">S/</span>
            </div>
            <input type="number" step="0.01" name="dolar" class="form-control" aria-label="" value="4.00">
        </div>
        Tipo de Año:
        <select class="form-control" name="Anio">
            <option selected>--------</option>
            <option value="360">Ordinario</option>
            <option value="365">Exacto</option>
        </select>
    </div>
    <div class="col-lg-3" style=" margin: auto;">
        Valor a Recibir:
        <div class="input-group mb-3">
            <div class="input-group-append">
                <span class="input-group-text">S/</span>
            </div>
            <input type="text" disabled class="form-control disabled" aria-label="">
        </div>
        <button class="btn btn-success" style="width:100%" id="calculo" type="submit">Calcular</button>
    </div>
</div>
</form>

<table class="table fcard">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Cliente)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Monto)
            </th>
            <th>Fecha de Vencimiento</th>
            <th>N° Días</th>
            <th>
                TEP (i')
            </th>
            <th>
                d
            </th>
            <th>
                Descuento
            </th>
            <th>
                Coste Inicial
            </th>
            <th>
                Coste Final
            </th>
            <th>
                Valor Neto
            </th>
            <th>
                Valor a Recibir
            </th>
            <th>
                Flujo
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
        <tr>
            <td>
                @(item.Cliente.RUC +" - "+ item.Cliente.RazonSocial)
            </td>
            <td>
                @(item.Moneda==0?"S/":"$")@Html.DisplayFor(modelItem => item.Monto)
            </td>
            <td>
                @(item.FechaPago.ToString("dd/MM/yyyy"))
            </td>
            <td style="font-weight:700; color:@(item.FechaPago.Date <= DateTime.Now.Date?"red":"green")">
                @(item.FechaPago.Date <= DateTime.Now.Date?"Pagado":(item.FechaPago.Date-DateTime.Now.Date).TotalDays)
            </td>
            <td id="TEP">
                -
            </td>
            <td id="D">
                -
            </td>
            <td id="DESCUENTO">
                -
            </td>
            <td id="COSTEINICIAL">
                -
            </td>
            <td id="COSTEFINAL">
                -
            </td>
            <td id="VALORNETO">
                -
            </td>
            <td id="VALORRECIBIR">
                -
            </td>
            <td id="FLUJO">
                -
            </td>
        </tr>
        }
    </tbody>
</table>


